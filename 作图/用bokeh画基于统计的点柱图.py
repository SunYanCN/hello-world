#!/usr/bin/env python3
# -*- coding: utf-8 -*-

from bokeh.layouts import column
from bokeh.plotting import figure, output_file, show
from bokeh.sampledata.autompg import autompg
from bokeh.transform import jitter
import pandas as pd

# https://docs.bokeh.org/en/latest/docs/gallery/jitter.html

autompg1 = [[18.0, 70], [15.0, 70], [18.0, 70], [16.0, 70], [17.0, 70], [15.0, 70], [14.0, 70], [14.0, 70], [14.0, 70], [15.0, 70], [15.0, 70], [14.0, 70], [15.0, 70], [14.0, 70], [24.0, 70], [22.0, 70], [18.0, 70], [21.0, 70], [27.0, 70], [26.0, 70], [25.0, 70], [24.0, 70], [25.0, 70], [26.0, 70], [21.0, 70], [10.0, 70], [10.0, 70], [11.0, 70], [9.0, 70], [27.0, 71], [28.0, 71], [25.0, 71], [19.0, 71], [16.0, 71], [17.0, 71], [19.0, 71], [18.0, 71], [14.0, 71], [14.0, 71], [14.0, 71], [14.0, 71], [12.0, 71], [13.0, 71], [13.0, 71], [18.0, 71], [22.0, 71], [19.0, 71], [18.0, 71], [23.0, 71], [28.0, 71], [30.0, 71], [30.0, 71], [31.0, 71], [35.0, 71], [27.0, 71], [26.0, 71], [24.0, 72], [25.0, 72], [23.0, 72], [20.0, 72], [21.0, 72], [13.0, 72], [14.0, 72], [15.0, 72], [14.0, 72], [17.0, 72], [11.0, 72], [13.0, 72], [12.0, 72], [13.0, 72], [19.0, 72], [15.0, 72], [13.0, 72], [13.0, 72], [14.0, 72], [18.0, 72], [22.0, 72], [21.0, 72], [26.0, 72], [22.0, 72], [28.0, 72], [23.0, 72], [28.0, 72], [27.0, 72], [13.0, 73], [14.0, 73], [13.0, 73], [14.0, 73], [15.0, 73], [12.0, 73], [13.0, 73], [13.0, 73], [14.0, 73], [13.0, 73], [12.0, 73], [13.0, 73], [18.0, 73], [16.0, 73], [18.0, 73], [18.0, 73], [23.0, 73], [26.0, 73], [11.0, 73], [12.0, 73], [13.0, 73], [12.0, 73], [18.0, 73], [20.0, 73], [21.0, 73], [22.0, 73], [18.0, 73], [19.0, 73], [21.0, 73], [26.0, 73], [15.0, 73], [16.0, 73], [29.0, 73], [24.0, 73], [20.0, 73], [19.0, 73], [15.0, 73], [24.0, 73], [20.0, 73], [11.0, 73], [20.0, 74], [19.0, 74], [15.0, 74], [31.0, 74], [26.0, 74], [32.0, 74], [25.0, 74], [16.0, 74], [16.0, 74], [18.0, 74], [16.0, 74], [13.0, 74], [14.0, 74], [14.0, 74], [14.0, 74], [29.0, 74], [26.0, 74], [26.0, 74], [31.0, 74], [32.0, 74], [28.0, 74], [24.0, 74], [26.0, 74], [24.0, 74], [26.0, 74], [31.0, 74], [19.0, 75], [18.0, 75], [15.0, 75], [15.0, 75], [16.0, 75], [15.0, 75], [16.0, 75], [14.0, 75], [17.0, 75], [16.0, 75], [15.0, 75], [18.0, 75], [21.0, 75], [20.0, 75], [13.0, 75], [29.0, 75], [23.0, 75], [20.0, 75], [23.0, 75], [24.0, 75], [25.0, 75], [24.0, 75], [18.0, 75], [29.0, 75], [19.0, 75], [23.0, 75], [23.0, 75], [22.0, 75], [25.0, 75], [33.0, 75], [28.0, 76], [25.0, 76], [25.0, 76], [26.0, 76], [27.0, 76], [17.5, 76], [16.0, 76], [15.5, 76], [14.5, 76], [22.0, 76], [22.0, 76], [24.0, 76], [22.5, 76], [29.0, 76], [24.5, 76], [29.0, 76], [33.0, 76], [20.0, 76], [18.0, 76], [18.5, 76], [17.5, 76], [29.5, 76], [32.0, 76], [28.0, 76], [26.5, 76], [20.0, 76], [13.0, 76], [19.0, 76], [19.0, 76], [16.5, 76], [16.5, 76], [13.0, 76], [13.0, 76], [13.0, 76], [31.5, 77], [30.0, 77], [36.0, 77], [25.5, 77], [33.5, 77], [17.5, 77], [17.0, 77], [15.5, 77], [15.0, 77], [17.5, 77], [20.5, 77], [19.0, 77], [18.5, 77], [16.0, 77], [15.5, 77], [15.5, 77], [16.0, 77], [29.0, 77], [24.5, 77], [26.0, 77], [25.5, 77], [30.5, 77], [33.5, 77], [30.0, 77], [30.5, 77], [22.0, 77], [21.5, 77], [21.5, 77], [43.1, 78], [36.1, 78], [32.8, 78], [39.4, 78], [36.1, 78], [19.9, 78], [19.4, 78], [20.2, 78], [19.2, 78], [20.5, 78], [20.2, 78], [25.1, 78], [20.5, 78], [19.4, 78], [20.6, 78], [20.8, 78], [18.6, 78], [18.1, 78], [19.2, 78], [17.7, 78], [18.1, 78], [17.5, 78], [30.0, 78], [27.5, 78], [27.2, 78], [30.9, 78], [21.1, 78], [23.2, 78], [23.8, 78], [23.9, 78], [20.3, 78], [17.0, 78], [21.6, 78], [16.2, 78], [31.5, 78], [29.5, 78], [21.5, 79], [19.8, 79], [22.3, 79], [20.2, 79], [20.6, 79], [17.0, 79], [17.6, 79], [16.5, 79], [18.2, 79], [16.9, 79], [15.5, 79], [19.2, 79], [18.5, 79], [31.9, 79], [34.1, 79], [35.7, 79], [27.4, 79], [25.4, 79], [23.0, 79], [27.2, 79], [23.9, 79], [34.2, 79], [34.5, 79], [31.8, 79], [37.3, 79], [28.4, 79], [28.8, 79], [26.8, 79], [33.5, 79], [41.5, 80], [38.1, 80], [32.1, 80], [37.2, 80], [28.0, 80], [26.4, 80], [24.3, 80], [19.1, 80], [34.3, 80], [29.8, 80], [31.3, 80], [37.0, 80], [32.2, 80], [46.6, 80], [27.9, 80], [40.8, 80], [44.3, 80], [43.4, 80], [36.4, 80], [30.0, 80], [44.6, 80], [33.8, 80], [29.8, 80], [32.7, 80], [23.7, 80], [35.0, 80], [32.4, 80], [27.2, 81], [26.6, 81], [25.8, 81], [23.5, 81], [30.0, 81], [39.1, 81], [39.0, 81], [35.1, 81], [32.3, 81], [37.0, 81], [37.7, 81], [34.1, 81], [34.7, 81], [34.4, 81], [29.9, 81], [33.0, 81], [33.7, 81], [32.4, 81], [32.9, 81], [31.6, 81], [28.1, 81], [30.7, 81], [25.4, 81], [24.2, 81], [22.4, 81], [26.6, 81], [20.2, 81], [17.6, 81], [28.0, 82], [27.0, 82], [34.0, 82], [31.0, 82], [29.0, 82], [27.0, 82], [24.0, 82], [36.0, 82], [37.0, 82], [31.0, 82], [38.0, 82], [36.0, 82], [36.0, 82], [36.0, 82], [34.0, 82], [38.0, 82], [32.0, 82], [38.0, 82], [25.0, 82], [38.0, 82], [26.0, 82], [22.0, 82], [32.0, 82], [36.0, 82], [27.0, 82], [27.0, 82], [44.0, 82], [32.0, 82], [28.0, 82], [31.0, 82]]

years = sorted(set(yr for mpg, yr in autompg1))

p1 = figure(plot_width=600, plot_height=300, title="Years vs mpg without jittering")
p1.xgrid.grid_line_color = None
p1.xaxis.ticker = years
p1.circle(x=[yr for mpg, yr in autompg1], y=[mpg for mpg, yr in autompg1], size=9, alpha=0.4)
p2 = figure(plot_width=600, plot_height=300, title="Years vs mpg with jittering")
p2.xgrid.grid_line_color = None
p2.xaxis.ticker = years
p2.circle(x=jitter('yr', 0.4), y='mpg', size=9, alpha=0.4, source=autompg)
output_file(r"D:\Users\Downloads\jitter.html")
show(column(p1, p2))

def main():
    pass


if __name__ == '__main__':
    main()